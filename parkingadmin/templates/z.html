{% extends 'base_home.html' %}
{% load static %}

{% block content %}
<div class="container min-vh-100 d-flex align-items-center justify-content-center py-5">
    <div class="card w-75" style="background-color: #f8f9fa; border: 1px solid #ced4da; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
        <div class="card-body p-4">

            {% if url_imagen_conjunto_celdas %}
                <!-- Mostrar solo la imagen si existe -->
                <h3 class="text-center mb-4 text-dark">Imagen subzona "{{ conjunto.cnj_nombre_conjunto }}"</h3>
                <div class="mb-4 text-center">
                    <img src="{{ url_imagen_conjunto_celdas }}" class="img-fluid shadow-sm" alt="Imagen de conjunto celdas" style="max-height: 250px; max-width: 80%; object-fit: contain; border: 1px solid #adb5bd; border-radius: 12px;">
                </div>
                
            {% else %}
                <!-- Mostrar el formulario si no hay imagen -->
                <h3 class="text-center mb-4 text-dark">Carga imagen subzona "{{ conjunto.cnj_nombre_conjunto }}"</h3>
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    
                    <!-- Sección de carga de imagen -->
                    <div class="p-3 mb-4" style="background-color: #e9ecef; border-radius: 8px; border: 1px solid #ced4da;">
                        <label for="image" class="form-label text-muted">Carga la Imagen aquí:</label>
                        <input type="file" name="imagen_conjunto_celdas" id="imagen_conjunto_celdas" accept="image/*" required class="form-control">
                    </div>

                    <!-- Botón de envío -->
                    <div class="d-flex justify-content-center mb-4">
                        <button type="submit" class="btn btn-outline-primary px-4" style="min-width: 150px;">Enviar</button>
                    </div>
                </form>
            {% endif %}

        </div>
    </div>
</div>
{% endblock content %}